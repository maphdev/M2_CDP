<!DOCTYPE html>
<html lang="fr">
  <head>
      <% include ../partials/head %>
  </head>
  <body class="background-form">

    <header>
        <% include ../partials/header %>
    </header>

    <main>
      <!-- Form -->
      <div class="container">
       <div class="row">
         <form id="form" method="post" action="createAccount" class="Absolute-Center Absolute-Center-Menu is-Responsive card-form rounded">
           <h3 class="text-center">Création d'un compte développeur</h3>
           <br>
           <div class="form-group">
             <label for="inputUsername">Nom d'utilisateur</label>
             <input type="text" id="form_username" class="form-control" placeholder="Nom d'affichage" minlength="1" required name="username">
           </div>
           <div class="form-group">
             <label for="inputEmail">Addresse Email</label>
             <input type="email" id="form_email" class="form-control" placeholder="adresse@domaine.com" required name="mail">
           </div>
           <div class="form-group">
             <label for="inputPassword1">Mot de passe</label>
             <input type="password" id="form_password" class="form-control" placeholder="Au moins 6 caractères." minlength="6" required name="password">
           </div>
           <br>
           <input type="submit" value="Créer un compte" class="btn btn-primary" id="form_button" disabled>
           <a href="login" class="btn btn-secondary">Se connecter</a>
           <div style="margin-top: 30px; color:red;">
           <%if(typeof error != "undefined"){%>
             <%= error.message%>
           <%}%>
         </form>
       </div>
      </div>
    </main>

    <script>
      // test form's validity
      $('#form').on('change', ':input', function(e) {
        if($('#form_username').is(":valid") && $('#form_email').is(":valid") && $('#form_password').is(":valid")) {
          $('#form_button').prop('disabled', false);
        } else {
          $('#form_button').prop('disabled', true);
        }
      });
    </script>

  </body>
</html>
